(function(e){function t(t){for(var r,s,a=t[0],i=t[1],o=t[2],d=0,b=[];d<a.length;d++)s=a[d],Object.prototype.hasOwnProperty.call(u,s)&&u[s]&&b.push(u[s][0]),u[s]=0;for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r]);l&&l(t);while(b.length)b.shift()();return c.push.apply(c,o||[]),n()}function n(){for(var e,t=0;t<c.length;t++){for(var n=c[t],r=!0,a=1;a<n.length;a++){var i=n[a];0!==u[i]&&(r=!1)}r&&(c.splice(t--,1),e=s(s.s=n[0]))}return e}var r={},u={app:0},c=[];function s(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=e,s.c=r,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)s.d(n,r,function(t){return e[t]}.bind(null,r));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],i=a.push.bind(a);a.push=t,a=a.slice();for(var o=0;o<a.length;o++)t(a[o]);var l=i;c.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"13a1":function(e,t,n){"use strict";n("2c4a")},"2c4a":function(e,t,n){},"2fc4":function(e,t,n){},"35f6":function(e,t,n){"use strict";n("7f09")},"3d73":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d"),n("d3b7"),n("159b"),n("b0c0");var r=n("7a23"),u={class:"wrapper"};function c(e,t,n,c,s,a){var i=Object(r["w"])("registration-form");return Object(r["q"])(),Object(r["e"])("div",u,[Object(r["h"])(i)])}n("caad"),n("2532");var s={key:0,class:"section"},a=Object(r["f"])("h2",{class:"section__header"},"Форма клиента",-1),i={class:"section__wrapper"},o={class:"input-container"},l={key:0,class:"error"},d=Object(r["g"])("Фамилия"),b={class:"input-container"},p={key:0,class:"error"},f=Object(r["g"])("Имя"),O=Object(r["g"])("Отчество"),j={class:"input-container"},m={key:0,class:"error"},h=["min","max"],y=Object(r["f"])("label",{class:"label"},[Object(r["g"])("Дата рождения"),Object(r["f"])("span",{class:"required"},"*")],-1),v={class:"input-container"},g={key:0,class:"error"},V=Object(r["g"])("Телефон"),D={class:"input-container"},q=Object(r["f"])("option",{value:"",disabled:"",selected:""},"Выбрать...",-1),_=Object(r["f"])("option",{value:"male"},"Мужской",-1),N=Object(r["f"])("option",{value:"female"},"Женский",-1),S=[q,_,N],k=Object(r["f"])("label",{class:"label"},"Пол",-1),x={class:"input-container"},U={key:0,class:"error"},w={key:1,class:"input-container row"},$=Object(r["f"])("option",{value:"",disabled:"",selected:""},"Выбрать...",-1),I=Object(r["f"])("option",{value:"VIP"},"VIP",-1),E=Object(r["f"])("option",{value:"Проблемные"},"Проблемные",-1),P=Object(r["f"])("option",{value:"ОМС"},"ОМС",-1),G=[$,I,E,P],z=Object(r["f"])("label",{class:"label"},"Группа клиентов",-1),B={class:"input-container"},C=Object(r["f"])("option",{value:"",disabled:"",selected:""},"Выбрать...",-1),R=Object(r["f"])("option",{value:"Иванов"},"Иванов",-1),F=Object(r["f"])("option",{value:"Захаров"},"Захаров",-1),A=Object(r["f"])("option",{value:"Чернышева"},"Чернышева",-1),J=[C,R,F,A],M=Object(r["f"])("label",{class:"label"},"Лечащий врач",-1),T={class:"input-container row"},L=Object(r["f"])("label",{class:"label checkbox"},"Не отправлять СМС",-1),H={key:1,class:"section"},K=Object(r["f"])("h2",{class:"section__header"},"Адрес",-1),Q={class:"section__wrapper"},W=Object(r["g"])("Индекс"),X=Object(r["g"])("Страна"),Y=Object(r["g"])("Область"),Z=Object(r["g"])("Город"),ee=Object(r["g"])("Улица"),te=Object(r["g"])("Дом"),ne={key:2,class:"section"},re=Object(r["f"])("h2",{class:"section__header"},"Документы",-1),ue={class:"section__wrapper"},ce=Object(r["g"])("Тип документа"),se=Object(r["g"])("Серия"),ae=Object(r["g"])("Номер"),ie=Object(r["g"])("Кем выдан"),oe=Object(r["g"])("Дата выдачи");function le(e,t,n,u,c,q){var _=Object(r["w"])("labeled-input"),N=Object(r["w"])("phone-input");return Object(r["q"])(),Object(r["e"])("form",{class:"form",onSubmit:t[25]||(t[25]=Object(r["F"])((function(){}),["prevent"]))},[1==c.currentStep?(Object(r["q"])(),Object(r["e"])("section",s,[a,Object(r["f"])("div",i,[Object(r["f"])("div",o,[c.signupErrors.includes("lastName")?(Object(r["q"])(),Object(r["e"])("div",l," Введите фамилию ")):Object(r["d"])("",!0),Object(r["h"])(_,{modelValue:c.user.lastName,"onUpdate:modelValue":t[0]||(t[0]=function(e){return c.user.lastName=e}),required:""},{default:Object(r["D"])((function(){return[d]})),_:1},8,["modelValue"])]),Object(r["f"])("div",b,[c.signupErrors.includes("firstName")?(Object(r["q"])(),Object(r["e"])("div",p," Введите имя ")):Object(r["d"])("",!0),Object(r["h"])(_,{modelValue:c.user.firstName,"onUpdate:modelValue":t[1]||(t[1]=function(e){return c.user.firstName=e}),required:""},{default:Object(r["D"])((function(){return[f]})),_:1},8,["modelValue"])]),Object(r["h"])(_,{modelValue:c.user.middleName,"onUpdate:modelValue":t[2]||(t[2]=function(e){return c.user.middleName=e})},{default:Object(r["D"])((function(){return[O]})),_:1},8,["modelValue"]),Object(r["f"])("div",j,[c.signupErrors.includes("birthDate")?(Object(r["q"])(),Object(r["e"])("div",m," Укажите дату рождения ")):Object(r["d"])("",!0),Object(r["E"])(Object(r["f"])("input",{class:"input","onUpdate:modelValue":t[3]||(t[3]=function(e){return c.user.birthDate=e}),required:"",type:"date",min:c.minDate,max:c.today},null,8,h),[[r["B"],c.user.birthDate]]),y]),Object(r["f"])("div",v,[c.signupErrors.includes("phone")?(Object(r["q"])(),Object(r["e"])("div",g," Номер должен состоять из 11 цифр ")):Object(r["d"])("",!0),Object(r["h"])(N,{formatRule:"+7 (555) 555-55-55",modelValue:c.user.phone,"onUpdate:modelValue":t[4]||(t[4]=function(e){return c.user.phone=e}),required:""},{default:Object(r["D"])((function(){return[V]})),_:1},8,["modelValue"])]),Object(r["f"])("div",D,[Object(r["E"])(Object(r["f"])("select",{"onUpdate:modelValue":t[5]||(t[5]=function(e){return c.user.sex=e})},S,512),[[r["A"],c.user.sex]]),k]),Object(r["f"])("div",x,[c.user.clientGroups&&c.signupErrors.includes("clientGroups")?(Object(r["q"])(),Object(r["e"])("div",U," Выберите хотя бы одну группу клиентов ")):Object(r["d"])("",!0),c.user.clientGroups?(Object(r["q"])(),Object(r["e"])("div",w,[(Object(r["q"])(!0),Object(r["e"])(r["a"],null,Object(r["u"])(c.user.clientGroups,(function(e){return Object(r["q"])(),Object(r["e"])("div",{class:"label option",key:e,onClick:t[6]||(t[6]=function(){return q.deleteOption&&q.deleteOption.apply(q,arguments)})},Object(r["x"])(e),1)})),128))])):Object(r["d"])("",!0),Object(r["E"])(Object(r["f"])("select",{"onUpdate:modelValue":t[7]||(t[7]=function(e){return c.user.group=e}),onChange:t[8]||(t[8]=function(){return q.addSelected&&q.addSelected.apply(q,arguments)}),class:"input"},G,544),[[r["A"],c.user.group]]),z]),Object(r["f"])("div",B,[Object(r["E"])(Object(r["f"])("select",{"onUpdate:modelValue":t[9]||(t[9]=function(e){return c.user.attendingPhysician=e})},J,512),[[r["A"],c.user.attendingPhysician]]),M]),Object(r["f"])("div",T,[Object(r["E"])(Object(r["f"])("input",{class:"input checkbox",type:"checkbox","onUpdate:modelValue":t[10]||(t[10]=function(e){return c.user.smsOff=e})},null,512),[[r["z"],c.user.smsOff]]),L])])])):Object(r["d"])("",!0),this.v$.$error||2!=c.currentStep?Object(r["d"])("",!0):(Object(r["q"])(),Object(r["e"])("section",H,[K,Object(r["f"])("div",Q,[Object(r["h"])(_,{type:"number",modelValue:c.user.address.zip,"onUpdate:modelValue":t[11]||(t[11]=function(e){return c.user.address.zip=e})},{default:Object(r["D"])((function(){return[W]})),_:1},8,["modelValue"]),Object(r["h"])(_,{modelValue:c.user.address.country,"onUpdate:modelValue":t[12]||(t[12]=function(e){return c.user.address.country=e})},{default:Object(r["D"])((function(){return[X]})),_:1},8,["modelValue"]),Object(r["h"])(_,{modelValue:c.user.address.state,"onUpdate:modelValue":t[13]||(t[13]=function(e){return c.user.address.state=e})},{default:Object(r["D"])((function(){return[Y]})),_:1},8,["modelValue"]),Object(r["h"])(_,{modelValue:c.user.address.city,"onUpdate:modelValue":t[14]||(t[14]=function(e){return c.user.address.city=e}),required:""},{default:Object(r["D"])((function(){return[Z]})),_:1},8,["modelValue"]),Object(r["h"])(_,{modelValue:c.user.address.street,"onUpdate:modelValue":t[15]||(t[15]=function(e){return c.user.address.street=e})},{default:Object(r["D"])((function(){return[ee]})),_:1},8,["modelValue"]),Object(r["h"])(_,{modelValue:c.user.address.building,"onUpdate:modelValue":t[16]||(t[16]=function(e){return c.user.address.building=e})},{default:Object(r["D"])((function(){return[te]})),_:1},8,["modelValue"])])])),this.v$.$error||3!=c.currentStep?Object(r["d"])("",!0):(Object(r["q"])(),Object(r["e"])("section",ne,[re,Object(r["f"])("div",ue,[Object(r["h"])(_,{modelValue:c.user.identityDocument.type,"onUpdate:modelValue":t[17]||(t[17]=function(e){return c.user.identityDocument.type=e}),required:""},{default:Object(r["D"])((function(){return[ce]})),_:1},8,["modelValue"]),Object(r["h"])(_,{modelValue:c.user.identityDocument.series,"onUpdate:modelValue":t[18]||(t[18]=function(e){return c.user.identityDocument.series=e})},{default:Object(r["D"])((function(){return[se]})),_:1},8,["modelValue"]),Object(r["h"])(_,{modelValue:c.user.identityDocument.number,"onUpdate:modelValue":t[19]||(t[19]=function(e){return c.user.identityDocument.number=e})},{default:Object(r["D"])((function(){return[ae]})),_:1},8,["modelValue"]),Object(r["h"])(_,{modelValue:c.user.identityDocument.authority,"onUpdate:modelValue":t[20]||(t[20]=function(e){return c.user.identityDocument.authority=e})},{default:Object(r["D"])((function(){return[ie]})),_:1},8,["modelValue"]),Object(r["h"])(_,{modelValue:c.user.identityDocument.dateOfIssue,"onUpdate:modelValue":t[21]||(t[21]=function(e){return c.user.identityDocument.dateOfIssue=e}),required:""},{default:Object(r["D"])((function(){return[oe]})),_:1},8,["modelValue"])])])),c.currentStep>1&&c.currentStep<=c.lastStep?(Object(r["q"])(),Object(r["e"])("button",{key:3,class:"btn",onClick:t[22]||(t[22]=Object(r["F"])((function(){return q.goBack&&q.goBack.apply(q,arguments)}),["prevent"]))}," Назад ")):Object(r["d"])("",!0),c.currentStep<c.lastStep?(Object(r["q"])(),Object(r["e"])("button",{key:4,class:"btn",onClick:t[23]||(t[23]=Object(r["F"])((function(){return q.goNext&&q.goNext.apply(q,arguments)}),["prevent"]))}," Далее ")):Object(r["d"])("",!0),c.currentStep==c.lastStep?(Object(r["q"])(),Object(r["e"])("button",{key:5,class:"btn",onClick:t[24]||(t[24]=function(){return q.createUser&&q.createUser.apply(q,arguments)})}," Подтвердить ")):Object(r["d"])("",!0)],32)}n("a15b"),n("ac1f"),n("1276"),n("a9e3"),n("e9c4"),n("a434");var de=n("25a0"),be=n("e3e1"),pe="".concat(new Intl.DateTimeFormat("ru-RU","default").format(new Date(Date.now()))).split(".").reverse().join("-"),fe={name:"registration-form",setup:function(){return{v$:Object(de["a"])()}},data:function(){return{user:{id:Number,lastName:"",firstName:"",middleName:"",birthDate:"",phone:"",sex:"",group:"",clientGroups:[],attendingPhysician:"",smsOff:!1,address:{zip:"",country:"",state:"",city:"",street:"",building:""},identityDocument:{type:"",series:"",number:"",authority:"",dateOfIssue:""}},currentStep:1,lastStep:3,signupErrors:[],options:{year:"numeric",month:"numeric",day:"numeric"},today:pe,minDate:"1900-01-01"}},validations:function(){return{user:{firstName:{required:be["b"]},lastName:{required:be["b"]},birthDate:{required:be["b"]},phone:{minLengthValue:Object(be["a"])(18),required:be["b"]},clientGroups:{required:be["b"]}}}},methods:{createUser:function(){if(this.v$.$validate(),!this.v$.$error){var e={id:Date.now(),lastName:this.user.lastName,firstName:this.user.firstName,middleName:this.user.middleName,birthDate:this.user.birthDate,phone:this.user.phone,sex:this.user.sex,clientGroups:JSON.parse(JSON.stringify(this.user.clientGroups)),attendingPhysician:this.user.attendingPhysician,smsOff:this.user.smsOff,address:{zip:this.user.address.zip,country:this.user.address.country,state:this.user.address.state,city:this.user.address.city,street:this.user.address,building:this.user.address.building},identityDocument:{type:this.user.identityDocument.type,series:this.user.identityDocument.series,number:this.user.identityDocument.number,authority:this.user.identityDocument.authority,dateOfIssue:this.user.identityDocument.dateOfIssue}};console.log("User created",e),this.currentStep=1,this.user={id:Number,lastName:"",firstName:"",middleName:"",birthDate:"",phone:"",sex:"",group:"",clientGroups:[],attendingPhysician:"",smsOff:!1,address:{zip:"",country:"",state:"",city:"",street:"",building:""},identityDocument:{type:"",series:"",number:"",authority:"",dateOfIssue:""}}}},addSelected:function(e){console.log(e.target.value),this.user.clientGroups.includes(e.target.value)||this.user.clientGroups.push(e.target.value)},deleteOption:function(e){var t=e.target.textContent,n=this.user.clientGroups.indexOf(t);this.user.clientGroups.splice(n,1)},goNext:function(){var e=this;this.v$.$validate(),this.v$.$error||this.currentStep++,this.signupErrors=[],this.v$.$errors.forEach((function(t){e.signupErrors.push(t.$property)}))},goBack:function(){this.currentStep--}}},Oe=(n("a3ce"),n("6b0d")),je=n.n(Oe);const me=je()(fe,[["render",le]]);var he=me,ye={components:{RegistrationForm:he}};n("35f6");const ve=je()(ye,[["render",c]]);var ge=ve,Ve={class:"input-container"},De=["type","value","maxlength"],qe={class:"label"},_e={key:0,class:"required"};function Ne(e,t,n,u,c,s){return Object(r["q"])(),Object(r["e"])("div",Ve,[Object(r["f"])("input",{class:"input",type:n.type,value:n.modelValue,onInput:t[0]||(t[0]=function(){return s.updateInput&&s.updateInput.apply(s,arguments)}),maxlength:n.maxlength},null,40,De),Object(r["f"])("label",qe,[Object(r["v"])(e.$slots,"default"),Object(r["v"])(e.$slots,"required",{},(function(){return[n.required?(Object(r["q"])(),Object(r["e"])("span",_e,"*")):Object(r["d"])("",!0)]}))])])}var Se={name:"labeled-input",props:{modelValue:[String,Number,Array],maxlength:Number,required:Boolean,type:String},methods:{updateInput:function(e){this.$emit("update:modelValue",e.target.value),this.$emit("input")}}};n("13a1");const ke=je()(Se,[["render",Ne]]);var xe=ke,Ue={class:"input-container"},we=["value"],$e={class:"label"},Ie={key:0,class:"required"};function Ee(e,t,n,u,c,s){return Object(r["q"])(),Object(r["e"])("div",Ue,[Object(r["f"])("input",{class:"input",type:"text",value:n.modelValue,onInput:t[0]||(t[0]=function(){return s.handleInput&&s.handleInput.apply(s,arguments)})},null,40,we),Object(r["f"])("label",$e,[Object(r["v"])(e.$slots,"default"),Object(r["v"])(e.$slots,"required",{},(function(){return[n.required?(Object(r["q"])(),Object(r["e"])("span",Ie,"*")):Object(r["d"])("",!0)]}))])])}n("5319");var Pe={name:"phone-input",data:function(){return{formatRule:"formatRule"}},props:{required:Boolean,modelValue:[String,Number]},methods:{handleInput:function(e){var t="+7 (",n=e.target.value;n=(""+n).replace(/\D/g,"").replace(/^7/,"").substr(0,this.formatRule.length);for(var r=0;r<n.length;r++)3==r?t+=") ":(6==r||8==r)&&(t+="-"),t+=n[r];e.target.value=t,this.$emit("update:modelValue",e.target.value)}}};const Ge=je()(Pe,[["render",Ee]]);var ze=Ge,Be=[xe,ze],Ce=(n("2fc4"),Object(r["c"])(ge));Be.forEach((function(e){Ce.component(e.name,e)})),Ce.mount("#app")},"7f09":function(e,t,n){},a3ce:function(e,t,n){"use strict";n("3d73")}});
//# sourceMappingURL=app.d97b416a.js.map